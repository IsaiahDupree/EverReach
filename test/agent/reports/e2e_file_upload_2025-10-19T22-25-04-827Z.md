# E2E Test: File Upload System

- **Run ID**: 126bcdc5-f0c7-4c50-9dad-c5e9a3ae65bf
- **Timestamp**: 2025-10-19T22:25:03.825Z
- **Supabase URL**: https://utasetfxiqcrnwyfforx.supabase.co
- **Backend URL**: https://ever-reach-be.vercel.app

## Test Workflow: File Upload Flow

### Step 1: Create Test Contact

- ✅ Contact created: 42fcb86a-0b76-4be8-a7a8-a5bb28268a0b

### Step 2: Request Presigned Upload URL

- ❌ Failed: 400
- Response: {"error":"[\n  {\n    \"code\": \"invalid_type\",\n    \"expected\": \"string\",\n    \"received\": \"undefined\",\n    \"path\": [\n      \"path\"\n    ],\n    \"message\": \"Required\"\n  }\n]","req

### Step 3: Upload File to Presigned URL

- ⚠️  Skipped - no upload URL from previous step

### Step 4: Commit File Upload

- ⚠️  Skipped - no file ID from previous step

### Step 5: Test Screenshot Analysis Endpoint

- ✅ Screenshot analysis endpoint exists (400 for invalid test URL)

### Step 6: Cleanup Test Data

- ✅ Cleaned up test contact

---

## Summary

- **Tests Passed**: 2/5
- **Upload URL**: Not generated
- **File Operations**: Request, Upload, Commit

❌ **Some file upload tests failed**

## Test Results

```json
[
  {
    "name": "Create test contact",
    "pass": "42fcb86a-0b76-4be8-a7a8-a5bb28268a0b",
    "status": 201,
    "ms": 86,
    "contact_id": "42fcb86a-0b76-4be8-a7a8-a5bb28268a0b"
  },
  {
    "name": "Request upload URL",
    "pass": false,
    "status": 400,
    "ms": 250,
    "has_upload_url": false,
    "file_id": null
  },
  {
    "name": "Upload file",
    "pass": false,
    "note": "Skipped - no upload URL"
  },
  {
    "name": "Commit file",
    "pass": false,
    "note": "Skipped - no file ID"
  },
  {
    "name": "Screenshot analysis endpoint",
    "pass": true,
    "status": 400,
    "ms": 195
  }
]
```

## Test Results

```json
[
  {
    "name": "Create test contact",
    "pass": "42fcb86a-0b76-4be8-a7a8-a5bb28268a0b",
    "status": 201,
    "ms": 86,
    "contact_id": "42fcb86a-0b76-4be8-a7a8-a5bb28268a0b"
  },
  {
    "name": "Request upload URL",
    "pass": false,
    "status": 400,
    "ms": 250,
    "has_upload_url": false,
    "file_id": null
  },
  {
    "name": "Upload file",
    "pass": false,
    "note": "Skipped - no upload URL"
  },
  {
    "name": "Commit file",
    "pass": false,
    "note": "Skipped - no file ID"
  },
  {
    "name": "Screenshot analysis endpoint",
    "pass": true,
    "status": 400,
    "ms": 195
  }
]
```