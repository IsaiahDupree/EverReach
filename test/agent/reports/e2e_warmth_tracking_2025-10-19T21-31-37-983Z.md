# E2E Test: Warmth Score Tracking

- **Run ID**: 19fc4d31-124a-40eb-bbb0-da3c02cc7831
- **Timestamp**: 2025-10-19T21:31:29.889Z
- **Supabase URL**: https://utasetfxiqcrnwyfforx.supabase.co
- **Method**: Direct Supabase REST API

## Test Workflow: Message Send → Warmth Increase

### Step 1: Create Test Contact

- ✅ Contact created: a3b8bd32-43dc-4d91-ae82-8d6e60966787
- Initial warmth score: 0

### Step 2: Verify Baseline Warmth

- ✅ Baseline warmth: 0/100
- Warmth band: unknown

### Step 3: Log Outbound Email Interaction

- ✅ Interaction logged: f219eba5-b150-4fdc-8b10-80f54118f872
- Channel: email, Direction: outbound

### Step 4: Recompute Warmth Score

- ❌ Failed: BASE is not defined

### Step 5: Verify Warmth Increased

- ❌ Failed: BASE is not defined

### Step 6: Log Second Interaction

- ❌ Failed: BASE is not defined

### Step 7: Recompute After Second Interaction

- ❌ Failed: BASE is not defined

---

## Summary

- **Initial Warmth**: 0/100
- **After 1st Message**: null/100 (+0)
- **After 2nd Message**: null/100 (+0 total)
- **Interactions Logged**: 2 (email + SMS)
- **Tests Passed**: 3/7

❌ **Some warmth tracking tests failed**

## Test Results

```json
[
  {
    "name": "Create contact",
    "pass": "a3b8bd32-43dc-4d91-ae82-8d6e60966787",
    "status": 201,
    "ms": 238,
    "contact_id": "a3b8bd32-43dc-4d91-ae82-8d6e60966787",
    "initial_warmth": 0
  },
  {
    "name": "Get baseline warmth",
    "pass": true,
    "status": 200,
    "ms": 119,
    "warmth_score": 0,
    "warmth_band": null
  },
  {
    "name": "Log outbound email",
    "pass": true,
    "status": 201,
    "ms": 129,
    "interaction_id": "f219eba5-b150-4fdc-8b10-80f54118f872"
  },
  {
    "name": "Recompute warmth",
    "pass": false,
    "error": "BASE is not defined"
  },
  {
    "name": "Verify warmth increased",
    "pass": false,
    "error": "BASE is not defined"
  },
  {
    "name": "Log second interaction",
    "pass": false,
    "error": "BASE is not defined"
  },
  {
    "name": "Recompute after second interaction",
    "pass": false,
    "error": "BASE is not defined"
  }
]
```