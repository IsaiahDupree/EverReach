# Cross-Platform Entitlements Test

- **Run ID**: 8fe80a3d-af26-4f4f-8450-a0f2a99de2d4
- **Timestamp**: 2025-10-11T19:12:02.653Z
- **Backend**: https://ever-reach-be.vercel.app/api
- **Origin**: https://everreach.app

## Test Results

**Summary**: 8 passed, 0 failed

### ✅ GET /v1/me/entitlements (no auth)

- **Status**: 401
- **Duration**: 151ms
- **Expected**: 401

### ✅ GET /v1/me/entitlements (authenticated)

- **Status**: 200
- **Duration**: 167ms
- **Plan**: free
- **Source**: manual
- **Features Count**: 3

### ✅ Entitlements structure validation

- **Status**: 200
- **Duration**: 102ms
- **Plan**: free
- **Compose Runs**: 50
- **Voice Minutes**: 30
- **Messages**: 200

### ✅ POST /v1/billing/restore (no auth)

- **Status**: 401
- **Duration**: 53ms
- **Expected**: 401

### ✅ POST /v1/billing/restore (authenticated)

- **Status**: 200
- **Duration**: 252ms
- **Recomputed**: true
- **Entitlements Plan**: free
- **Entitlements Source**: manual

### ✅ Restore returns complete entitlements

- **Status**: 200
- **Duration**: 188ms
- **Has Plan**: true
- **Has Source**: true
- **Has Valid Until**: true

### ✅ Entitlements consistency after restore

- **Status**: 200
- **Duration**: 97ms
- **Plan**: free
- **Source**: manual

### ✅ Entitlements source validation

- **Status**: 200
- **Duration**: 96ms
- **Source**: manual
- **Valid Sources**: stripe, app_store, play, manual

---

## Cross-Platform Support

This test validates that:
- Users can check their entitlements from any platform (web, iOS, Android)
- The restore endpoint recomputes entitlements from all subscription sources
- Stripe, App Store, and Play Store subscriptions are unified
- The system returns consistent plan/feature data
